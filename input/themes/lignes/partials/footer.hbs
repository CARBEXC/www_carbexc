   <footer class="footer">
      <div class="footer__top">
         
            {{#checkIf @config.custom.footerNewsletter '!==' "disabled"}}
               <section class="footer__newsletter">
                  <h3 class="h1">{{ translate 'partials.footer.subscribe' }}</h3>
                  {{> newsletter}}
               </section>
            {{else}}
               <a class="logo footer__logo" href="{{@website.url}}">
                  {{#if @website.logo}}
                     <img src="{{@website.logo}}" alt="{{@website.name}}">
                  {{else}}
                     {{@website.name}}
                  {{/if}}
               </a>
            {{/checkIf}}
         

         {{#if menus.footerMenu1}}
            <section class="footer__col2">
               <h3 class="h4">{{ menus.footerMenu1.name}}</h3>
               <ul class="footer__nav">
                  {{> simple-menu menus.footerMenu1}}
               </ul>
            </section>
         {{/if}}

         {{#if menus.footerMenu2}}
            <section class="footer__col3">
               <h3 class="h4">{{ menus.footerMenu2.name}}</h3>
               <ul class="footer__nav">
                  {{> simple-menu menus.footerMenu2}}
               </ul>
            </section>
         {{/if}}

         {{#if menus.footerMenu3}}
            <section class="footer__col4">
               <h3 class="h4">{{ menus.footerMenu3.name}}</h3>
               <ul class="footer__nav">
                  {{> simple-menu menus.footerMenu3}}
               </ul>
            </section>
         {{/if}}
      </div>

      <div class="footer__bottom">
         {{#if @config.custom.socialButtons}}
            <div class="footer__social">
               {{#if @config.custom.socialFacebook}}
                  <a
                     href="{{@config.custom.socialFacebook}}"
                     aria-label="Facebook"
                     class="facebook">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#facebook"/>
                     </svg>
                  </a>
               {{/if}}
               {{#if @config.custom.socialTwitter}}
                  <a href="{{@config.custom.socialTwitter}}" aria-label="Twitter" class="twitter">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#twitter"/>
                     </svg>
                  </a>
               {{/if}}
               {{#if @config.custom.socialInstagram}}
                  <a
                     href="{{@config.custom.socialInstagram}}"
                     aria-label="Instagram"
                     class="instagram">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#instagram"/>
                     </svg>
                  </a>
               {{/if}}
               {{#if @config.custom.socialLinkedin}}
                  <a
                     href="{{@config.custom.socialLinkedin}}"
                     aria-label="LinkedIn"
                     class="linkedin">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#linkedin"/>
                     </svg>
                  </a>
               {{/if}}
               {{#if @config.custom.socialVimeo}}
                  <a href="{{@config.custom.socialVimeo}}" aria-label="Vimeo" class="vimeo">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#vimeo"/>
                     </svg>
                  </a>
               {{/if}}
               {{#if @config.custom.socialPinterest}}
                  <a
                     href="{{@config.custom.socialPinterest}}"
                     aria-label="Pinterest"
                     class="pinterest">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#pinterest"/>
                     </svg>
                  </a>
               {{/if}}
               {{#if @config.custom.socialYoutube}}
                  <a href="{{@config.custom.socialYoutube}}" aria-label="Youtube" class="youtube">
                     <svg>
                        <use xlink:href="{{@website.assetsUrl}}/svg/svg-map.svg#youtube"/>
                     </svg>
                  </a>
               {{/if}}
            </div>
         {{/if}}

         {{#if @config.custom.copyrightText}}
            <div class="footer__copyright">
               {{{@config.custom.copyrightText}}}
            </div>
         {{/if}}

      </div>
   </footer>
</div>

<script defer src="{{js "scripts.min.js"}}"></script>

<script> window.publiiThemeMenuConfig = { mobileMenuMode: '{{@config.custom.mobilemenu}}', animationSpeed: 300, submenuWidth: {{#checkIf @config.custom.submenu '==' "auto" }}'auto'{{else}}{{@config.custom.submenuWidth}}{{/checkIf}}, doubleClickTime: 500, mobileMenuExpandableSubmenus: {{@config.custom.mobilemenuExpandableSubmenus}}, relatedContainerForOverlayMenuSelector: '.navbar', }; </script>

{{#if @config.site.mediaLazyLoad}}
   <script>          
      var images = document.querySelectorAll('img[loading]');
      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
            images[i].classList.add('is-loaded');
            images[i].parentNode.classList.remove('is-img-loading');
            images[i].parentNode.parentNode.classList.remove('is-img-loading');
         } else {
            images[i].addEventListener('load', function () {
               this.classList.add('is-loaded');
               this.parentNode.classList.remove('is-img-loading');
               this.parentNode.parentNode.classList.remove('is-img-loading');
            }, false);
         }
      }
    </script>
{{/if}}

{{#checkIf @config.custom.slider '==' true }}
   {{#is "index"}}
      {{#if @renderer.isFirstPage}}
         <script src="{{js 'embla-carousel.umd.js'}}"></script>
         <script>         
            // autoplay
            {{#if @config.custom.sliderAutoplay}}
               const autoplay = (embla, interval) => {
                  let timer = 0;
                  const play = () => {
                     stop();
                     requestAnimationFrame(() => (timer = window.setTimeout(next, interval)));
                  };
                  const stop = () => {
                     window.clearTimeout(timer);
                     timer = 0;
                  };
                  const next = () => {
                     if (embla.canScrollNext()) {
                        embla.scrollNext();
                     } else {
                        embla.scrollTo(0);
                     }
                     play();
                  };
                  return {
                     play,
                     stop
                  };
               };
            {{else}}
               const autoplay = (embla, interval) => {
                  const play = () => {};
                  const stop = () => {};
                  
                  return {
                     play,
                     stop
                  }
               };
            {{/if}}
            
            // main 
            const wrap = document.querySelector(".featured__slider");
            const viewPort = wrap.querySelector(".featured__viewport");
            const embla = EmblaCarousel(viewPort, {
               loop: {{@config.custom.sliderLoop}},
               speed: {{@config.custom.sliderSpeed}},
               draggable: {{@config.custom.sliderDraggable}},
               dragFree: {{@config.custom.sliderDraggFree}},
               containScroll: "trimSnaps"
            });
            const autoplayer = autoplay(embla, {{@config.custom.sliderAutoplayTimeout}});

            embla.on("pointerUp", autoplayer.play);
            embla.on("init", autoplayer.play);
      
            // progress bar
            {{#if @config.custom.sliderProgressBar}}
               const progressBar = document.querySelector(".featured__progress__bar");
               const updateProgressBar = (progressBar, embla) => () => {
               const progress = Math.max(0, Math.min(1, embla.scrollProgress()));
                  progressBar.style.transform = `translateX(${progress * 100}%)`;
               };    
               const updateProgress = updateProgressBar(progressBar, embla);
               embla.on("scroll", updateProgress);
            {{/if}}

         // current and total slides
         {{#if @config.custom.sliderCounter}}
               const counterCurrent = document.querySelector('.featured__counter__current')
               const counterTotal = document.querySelector('.featured__counter__total')
               counterTotal.innerText = embla.scrollSnapList().length
               embla.on('select', () => {
                  counterCurrent.innerText = embla.selectedScrollSnap() + 1
               })
            {{/if}}

         </script>
         {{/if}}
   {{/is}}
{{/checkIf}}


{{#if @config.custom.pagePrefetching}}
   <script defer src="{{js "quicklink.umd.js"}}"></script>
   <script>
      window.addEventListener('load', () =>{
      quicklink.listen();
      });
   </script>
{{/if}}

{{#is "post"}}
   {{#post}}
      {{#if hasGallery}}
          {{> photoswipe}}
      {{/if}}
  {{/post}}
{{/is}}
{{#checkIf @config.custom.frontSource '==' "post"}}
   {{#checkIf @config.custom.frontGallery '==' true}}
      {{#is "index"}}
          {{> photoswipe}}
      {{/is}}
   {{/checkIf}}
{{/checkIf}}
{{#if @renderer.previewMode}}
   <script defer src="{{js "svg-map.js"}}"></script>
   <script defer src="{{js "svg-fix.js"}}"></script>
{{/if}}
{{{@footerCustomCode}}}
{{{ publiiFooter }}}
</body>
</html>